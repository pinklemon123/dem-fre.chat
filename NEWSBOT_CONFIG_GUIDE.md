# 🤖 新闻机器人配置指南

## 📋 功能概述

您的新闻机器人现在已经升级为**完全自主的英美新闻聚合系统**，具备以下特点：

### ✨ 核心特性
- **🌍 英美主流媒体**: BBC、CNN、Reuters、Guardian、AP等权威新闻源
- **🌐 自动翻译**: 英文新闻自动翻译为流畅中文
- **⚙️ 零配置运行**: 开箱即用，无需手动设置
- **📊 智能质量控制**: 自动过滤低质量和重复内容
- **⏰ 定时自动化**: 每3小时自动抓取5-8篇高质量新闻

## 🎯 每次运行详情

### 新闻源配置
| 媒体 | RSS源 | 更新频率 | 每次文章数 |
|------|-------|----------|------------|
| BBC World News | ✅ 启用 | 每3小时 | 1-2篇 |
| CNN International | ✅ 启用 | 每3小时 | 1-2篇 |
| Reuters World | ✅ 启用 | 每3小时 | 1-2篇 |
| The Guardian | ✅ 启用 | 每3小时 | 1-2篇 |
| Associated Press | ✅ 启用 | 每3小时 | 1-2篇 |

**总计**: 每次处理 **5-8篇** 高质量国际新闻

### 工作流程
1. **📡 RSS抓取** (30秒)
   - 同时从5个新闻源获取最新RSS
   - 自动解析标题、内容、发布时间
   - 智能筛选热门和重要新闻

2. **🔍 质量评估** (15秒)
   - 内容长度检查 (最少200字)
   - 关键词重要性评分
   - 重复内容检测

3. **🌐 AI翻译** (60-90秒)
   - 使用OpenAI/DeepSeek进行专业翻译
   - 保持新闻客观性和准确性
   - 保留专有名词的标准中文译名

4. **📝 格式化** (10秒)
   - 添加来源信息和原文链接
   - 生成适合论坛的格式
   - 自动分类标签

5. **📮 自动发布** (5秒)
   - 发布到论坛相应版块
   - 添加机器人标识
   - 更新统计信息

## 🛠 快速启动

### 1. 环境变量配置 (可选)
```bash
# AI翻译API (至少配置一个)
OPENAI_API_KEY=sk-your-openai-key-here
DEEPSEEK_API_KEY=sk-your-deepseek-key-here

# Supabase配置 (已配置)
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-key
```

### 2. 立即测试
1. 访问 http://localhost:3000/newsbot
2. 点击 "立即执行" 按钮
3. 观察系统状态和处理结果

### 3. 自动运行
机器人将自动在以下时间运行：
- 每天 00:00, 03:00, 06:00, 09:00, 12:00, 15:00, 18:00, 21:00

## 📊 监控面板

### 实时状态
- **🟢 在线状态**: 绿色 = 正常运行
- **📈 成功率**: 建议保持在 85% 以上
- **⚡ 处理时间**: 通常 2-3 分钟/次
- **💾 存储使用**: 自动清理30天前数据

### 关键指标
- **今日发帖**: 24小时内发布的新闻数量
- **本周发帖**: 7天内累计发布数量
- **总计发帖**: 机器人运行以来的总数量
- **错误统计**: 24小时内的错误次数

## 🚀 零配置特性

### ✅ 已自动配置
- **新闻源**: 5个英美主流媒体RSS
- **更新频率**: 每3小时自动执行
- **质量阈值**: 75% (确保高质量内容)
- **翻译语言**: 英文 → 简体中文
- **文章数量**: 5-8篇/次 (避免信息过载)
- **去重机制**: 自动检测并跳过重复内容

### ✅ 自动优化
- **网络超时**: 45秒 (适应国外网站)
- **重试机制**: 失败自动重试3次
- **错误处理**: 单个源失败不影响其他源
- **内容过滤**: 自动移除广告和无关信息

## 📱 使用体验

### 管理界面功能
1. **📊 实时监控**: 查看运行状态和统计
2. **🔧 手动执行**: 立即触发新闻抓取
3. **⏰ 任务管理**: 查看和控制定时任务
4. **📋 历史记录**: 查看处理历史和错误日志

### 用户看到的效果
- **📰 高质量新闻**: 来自BBC、CNN等权威媒体
- **🌐 流畅中文**: 专业翻译，阅读体验佳
- **📖 完整信息**: 标题、摘要、正文、来源链接
- **🏷️ 智能分类**: 自动归类到相应版块

## 🔧 高级配置 (可选)

如需自定义配置，可修改 `src/lib/newsbot-config.ts`:

```typescript
// 调整抓取频率
crawl_settings: {
  interval_hours: 3,        // 改为2-6小时
  max_articles_per_run: 8,  // 改为5-15篇
}

// 调整质量阈值
ai_settings: {
  quality_threshold: 0.75,  // 改为0.6-0.9
}
```

## ❓ 常见问题

### Q: 机器人会发布多少新闻？
**A**: 每3小时发布5-8篇高质量国际新闻，每天约15-25篇。

### Q: 需要手动配置新闻源吗？
**A**: 不需要！已预配置BBC、CNN、Reuters等5个权威英美媒体。

### Q: 翻译质量如何？
**A**: 使用专业AI翻译，保持新闻准确性和流畅性，支持OpenAI和DeepSeek。

### Q: 会有重复内容吗？
**A**: 内置智能去重机制，自动检测并跳过重复或相似内容。

### Q: 如何调整发布频率？
**A**: 在新闻机器人管理页面可以调整定时任务设置。

## 🎉 开始使用

您的新闻机器人现在已经完全配置好了！

1. **立即体验**: 访问 http://localhost:3000/newsbot
2. **查看效果**: 查看论坛首页的最新国际新闻
3. **监控运行**: 通过管理面板观察运行状态

机器人将自动为您的论坛带来持续的高质量国际新闻内容！🚀